<div class="modal-header">Добавить расход</div>
<form hx-post="{{ url_for('consumptions_create') }}"
      hx-target="#modal-body"
      hx-swap="innerHTML"
      class="form-grid">
  <div>
    <label>Материал</label>
    <select name="material_id" required>
      {% for m in materials %}
        <option value="{{ m.id }}">{{ m.short_name or m.name }}</option>
      {% endfor %}
    </select>
  </div>
  <div>
    <label>Сотрудник</label>
    <select name="employee_id" required>
      {% for u in users %}
        <option value="{{ u.id }}">{{ u.first_name or '' }} {{ u.last_name or '' }} ({{ u.tg_id }})</option>
      {% endfor %}
    </select>
  </div>
  <div>
    <label>Количество</label>
    <input type="number" name="amount" min="0.001" step="0.001" required />
  </div>
  <div>
    <label>Дата</label>
    <input type="date" name="date" value="{{ today }}" required />
  </div>
  <div class="modal-actions" style="grid-column: 1 / -1;">
    <button type="button" class="btn-outline" onclick="window.dispatchEvent(new CustomEvent('close-modal'))">Отмена</button>
    <button type="submit" class="btn">Добавить</button>
  </div>
</form>
